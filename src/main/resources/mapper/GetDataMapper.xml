<?xml version="1.0" encoding="UTF-8" ?> <!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="dao.GetDataDao">


    <resultMap id="bannerMap" type="entity.Banner">
        <id column="banner_id" property="banner_id"/>
        <result column="banner_img" property="banner_img"/>
        <result column="banner_type" property="banner_type"/>
    </resultMap>
    <select id="getBanners" resultMap="bannerMap">
        select banner_id,banner_img,banner_type from banner order by banner_create_time desc limit 4
    </select>

    <resultMap id="classMap" type="entity.TeaClasss">
        <id column="class_id" property="selectId"/>
        <result column="class_title" property="selectlisttitle"/>
        <result column="class_author" property="selectauthor"/>
        <result column="class_price" property="selectprice"/>
        <result column="class_img" property="selectbackimg"/>
        <result column="class_view" property="selectstucount"/>
    </resultMap>
    <select id="getClasses" resultMap="classMap">
        select class_id,class_title,class_author,class_price,class_img,class_view from `class` order by class_create_time desc limit 10
    </select>
    <select id="getMoreClass" resultMap="classMap" parameterType="integer">
        select class_id,class_title,class_author,class_price,class_img,class_view from `class` order by class_create_time desc limit #{currentPage} ,10
    </select>


    <resultMap id="qaMap" type="dto.QAData">
        <id column="qa_id" property="qa_id"/>
        <result column="user_name" property="user_name"/>
        <result column="user_icon" property="user_icon"/>
        <result column="user_signal" property="user_signal"/>
        <result column="qa_user_id" property="qa_user_id"/>
        <result column="qa_content" property="qa_content"/>
        <result column="qa_like" property="qa_like"/>
        <result column="qa_comment" property="qa_comment"/>
        <result column="qa_video" property="qa_video"/>
        <result column="qa_audio" property="qa_audio"/>
        <result column="qa_time" property="qa_time"/>
        <result column="qa_video_cover" property="qa_video_cover"/>
    </resultMap>

    <select id="getQAData" resultMap="qaMap">

        select a.qa_id,a.qa_user_id,a.qa_content,a.qa_video,a.qa_like,a.qa_comment,a.qa_time,a.qa_audio,b.user_id,b.user_name,b.user_icon,b.user_signal,a.qa_video_cover
        from question_answer a join `user` b on a.qa_user_id = b.user_id order by a.qa_time desc limit 15
    </select>


    <select id="getMoreQAData" resultMap="qaMap">
        select a.qa_id,a.qa_user_id,a.qa_content,a.qa_video,a.qa_like,a.qa_comment,a.qa_time,a.qa_audio,b.user_id,b.user_name,b.user_icon,b.user_signal,a.qa_video_cover
        from question_answer a join `user` b on a.qa_user_id = b.user_id order by a.qa_time desc limit #{currentPage},15

    </select>

</mapper>